# 关于 API `403 Forbidden` 错误说明

当插件在获取数据时遇到 `403 Forbidden` 错误，这通常意味着您对 Stratz API 的访问因触发了其安全策略而被**临时限制**。

##### 可能的原因
近期，Stratz API 收紧了访问策略，以确保服务的稳定和公平使用。触发 `403` 限制通常是由于以下两种情况之一：

1. **多 IP, 单 Token**：在短时间内，有多个不同的 IP 地址使用了**同一个** API Token 发送请求。

2. **单 IP, 多 Token**：在短时间内，同一个 IP 地址使用了**多个不同**的 API Token 发送请求。

这通常发生在您在多个设备（如个人家用电脑、公司电脑、服务器）或多个项目上配置了 dota2tracker 插件或其它使用 Stratz API 的工具时。

##### 如何解决
您可以选择以下任一方案来解除限制：

* 方案一：等待

  * 暂停所有使用 Stratz API 的项目（包括本插件），等待限制自动解除。

  * 根据当前测试，限制时长通常为 1 小时。（不能确定未来限制策略是否还会变动）

* 方案二：刷新 Token

  * 此方法可以立即解除限制，但需要您在所有使用旧 Token 的地方更新为新 Token。

  1. 访问 Stratz 网站并**退出**当前登录的账号。

  2. 使用您的 Steam 账号**重新登录**。

  3. 访问 [Stratz API 页面](https://stratz.com/api) 获取并复制您的**新 Token**。

  4. 在 Koishi 插件配置中，将旧 Token 替换为新 Token。

参考资料：[issues/10](https://github.com/sjtdev/koishi-plugin-dota2tracker/issues/10#issuecomment-3227887381)
